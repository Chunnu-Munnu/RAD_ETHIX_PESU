:root {
  --color-accent: #29ffe6;
  --color-accent2: #20a3fa;
  --color-bg-dark: #181f2f;
  --color-bg-darker: #101726;
  --color-bg-light: #faecd6;
  --color-bg-lighter: #f7f6eb;
  --color-fg-dark: #eaf6fd;
  --color-fg-light: #1a1617;
  --color-shadow-accent: #29ffe680;
  --color-shadow-card: #0404051d;

  --card-radius: 18px;
  --section-space: 38px;
  --card-pad: 32px;
}

/* Dark/Light global backgrounds */
body {
  background: var(--color-bg-dark);
  color: var(--color-fg-dark);
  font-family: 'Montserrat', Arial, 'Segoe UI', sans-serif;
  min-height: 100vh;
  margin: 0;
  transition: background 0.3s, color 0.3s;
}

/* Starfield for dark */
body::before {
  content: "";
  position: fixed;
  left: 0; top: 0;
  width: 100vw; height: 100vh;
  pointer-events: none;
  z-index: 0;
  opacity: 0.15;
  background: url('data:image/svg+xml;utf8,<svg width="100vw" height="100vh" xmlns="http://www.w3.org/2000/svg"><circle cx="54" cy="190" r="2" fill="white" fill-opacity="0.14"/><circle cx="260" cy="680" r="1.5" fill="white" fill-opacity="0.10"/><circle cx="620" cy="120" r="2" fill="white" fill-opacity="0.11"/><circle cx="820" cy="720" r="1.8" fill="white" fill-opacity="0.18"/><circle cx="1020" cy="300" r="2" fill="white" fill-opacity="0.12"/><circle cx="1320" cy="30" r="1" fill="white" fill-opacity="0.15"/></svg>');
  background-repeat: repeat;
}

body.light-mode {
  background: var(--color-bg-light);
  color: var(--color-fg-light);
}

/* Starfield muted for light */
body.light-mode::before {
  opacity: 0.06;
  background: url('data:image/svg+xml;utf8,<svg width="100vw" height="100vh" xmlns="http://www.w3.org/2000/svg"><circle cx="54" cy="190" r="2" fill="gray" fill-opacity="0.12"/><circle cx="260" cy="680" r="1.5" fill="gray" fill-opacity="0.09"/><circle cx="620" cy="120" r="2" fill="gray" fill-opacity="0.08"/><circle cx="820" cy="720" r="1.8" fill="gray" fill-opacity="0.14"/><circle cx="1020" cy="300" r="2" fill="gray" fill-opacity="0.11"/><circle cx="1320" cy="30" r="1" fill="gray" fill-opacity="0.11"/></svg>');
}

.app-outer {
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
  width: 100vw;
  margin: 0 auto;
  z-index: 2;
  padding-bottom: 16px;
}

/* .main-container: overall Perplexity style layout */
.main-container {
  width: 100%;
  max-width: 830px;
  margin: var(--section-space) auto 0 auto;
  display: flex;
  flex-direction: column;
  gap: var(--section-space);
  align-items: center;
}

/* Centered, glassy card */
.card {
  background: rgba(32, 38, 62, 0.97);
  box-shadow: 0 2px 16px var(--color-shadow-accent), 0 1px 8px var(--color-shadow-card);
  border-radius: var(--card-radius);
  border: 1.5px solid rgba(41,255,230,0.13);
  padding: var(--card-pad);
  width: 95%;
  max-width: 600px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: box-shadow .23s, background .23s;
  position: relative;
}

.card:hover,
.card:focus-within {
  background: rgba(40, 54, 99, 0.99);
  box-shadow: 0 8px 36px #29ffe6a6, 0 0 48px #1be1ad23;
}

/* Cards in light mode/beige theme */
body.light-mode .card {
  background: var(--color-bg-lighter);
  box-shadow: 0 4px 18px #b6790b17;
  border: 1.5px solid #e1c27a2a;
}

body.light-mode .card:hover {
  background: #fffbf2;
  box-shadow: 0 7px 28px #eec77416, 0 0 44px #f5ebbe33;
}

/* Mascot on top */
.mascot-card {
  width: 100%;
  max-width: 360px;
  margin: 0 auto 16px;
  padding-top: 20px;
  padding-bottom: 18px;
  text-align: center;
  align-items: center;
}

.mascot-img {
  width: 76px;
  height: 76px;
  border-radius: 22%;
  object-fit: contain;
  box-shadow: 0 0 34px #29ffe6bb, 0 1px 7px #21e3e188;
  margin-bottom: 10px;
}

.mascot-title {
  font-family: 'Orbitron', Montserrat, Arial, sans-serif;
  font-size: 2.1rem;
  color: var(--color-accent);
  margin-bottom: 2px;
  text-shadow: 0 2px 19px #29ffe675;
}
.mascot-subtitle {
  font-size: 1.02rem;
  color: #29ffe6b3;
}
/* Upload and Preview */
.upload-area {
  border: 2.2px dashed var(--color-accent);
  text-align: center;
  cursor: pointer;
  background: rgba(30, 37, 56, 0.62);
  border-radius: 10px;
  margin: 0 auto 16px auto;
  transition: border-color .21s, background .17s;
}
.upload-area:hover { border-color: var(--color-accent2); background: rgba(50,60,100,0.10);}
.upload-icon { font-size: 2.3rem; margin-bottom: 9px; }

.image-preview img, .heatmap-overlay, .results-section img {
  display: block;
  margin-left: auto;
  margin-right: auto;
  max-width: 270px; max-height: 270px;
  border-radius: 10px;
  box-shadow: 0 3px 13px #29ffe649;
}

.heatmap-overlay {
  position: relative;
  top: -23px;
  opacity: 0.84;
  pointer-events: none;
}

.results-section {
  margin-top: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.diagnosis-result, .confidence-score {
  text-align: center;
  width: 100%;
}

/* Feature grid/Predictions layout */
.features-grid {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: center;
  width: 100%;
  gap: 18px;
  margin-top: 14px;
}

.feature-card {
  flex: 0 1 220px;
  max-width: 245px;
  margin: 9px 5px;
  background: rgba(26,46,83,0.96);
  border-left: 5.2px solid var(--color-accent);
  border-radius: 8px;
  padding: 11px 14px;
  color: var(--color-fg-dark);
  box-shadow: 0 2px 9px #29ffe620, 0 1px 2px #0002;
  align-items: flex-start;
  transition: background .22s, box-shadow .22s;
  word-break: break-word;
}
.feature-card:hover { background: rgba(32,60,120,0.97); box-shadow: 0 4px 18px #20a3fa36; opacity: 0.99;}

body.light-mode .feature-card {
  background: #fffbe2;
  color: #2c222a;
  border-left: 5.2px solid #f7af13;
}
body.light-mode .feature-card:hover {
  background: #ffeeb6;
  box-shadow: 0 2px 12px #3ac8fa17;
}

/* Button & progress bar design */
.btn {
  padding: 10px 19px;
  font-size: 1.02rem;
  border-radius: 8px;
  font-weight: 600;
  border: none;
  margin: 1px 9px;
  background: var(--color-accent);
  color: #14273a;
  cursor: pointer;
  box-shadow: 0 2px 10px #29ffe64a;
  transition: background .19s, color .19s, box-shadow .22s, opacity .18s;
  opacity: 0.98;
  letter-spacing: 0.03rem;
}
.btn:active { opacity: 0.91; }
.btn-primary {
  background: linear-gradient(100deg, var(--color-accent2) 0%, var(--color-accent) 80%);
  color: #152d4a;
}
.btn-outline {
  background: transparent;
  border: 2px solid var(--color-accent2);
  color: var(--color-accent2);
}
.btn-primary:hover,
.btn-outline:hover, .btn:focus-visible {
  background: linear-gradient(100deg, var(--color-accent) 55%, var(--color-accent2) 100%);
  color: #fff;
  opacity: 0.97;
  box-shadow: 0 3px 24px #29ffe693;
}

/* Download Button */
.btn-download {
  background: linear-gradient(82deg, var(--color-accent) 60%, #fff7a2 120%);
  color: #323036;
  border: 1.5px solid var(--color-accent2);
  margin-top: 9px;
}
.btn-download:hover {
  background: linear-gradient(100deg, #fff8cc 72%, var(--color-accent) 125%);
  color: #1c4258;
}

/* Progress bar, sleek */
.progress-bar {
  background: #233055bb;
  height: 11px;
  border-radius: 6px;
  width: 220px;
  margin: 0 auto 10px auto;
  box-shadow: 0 1px 9px #29ffe623;
  border: 1px solid #29ffe65f;
}
.progress-fill {
  background: linear-gradient(90deg,var(--color-accent),var(--color-accent2),#fff 80%);
  height: 11px; border-radius: 6px; transition: width .29s;
}
.progress-text {
  color: var(--color-accent);
  font-size: 1.11rem;
  text-align: center;
}

/* Modal overlay and content */
.modal {
  position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
  background: rgba(26,36,56,0.925); display: flex;
  align-items: center; justify-content: center; z-index: 200;
  backdrop-filter: blur(3px);
}
.modal-content {
  background: #252c42eb; padding: 31px;
  border-radius: 17px; box-shadow: 0 0 27px #29ffe6b9;
}
body.light-mode .modal-content { background: #fff6e3; box-shadow: 0 0 14px #efefcc9c;}
.modal-close { float: right; border: none; font-size: 2rem; background: none; color: var(--color-accent2);}
.doctors-grid { display: flex; flex-direction: column; gap: 24px; margin-top: 13px;}
.doctor-card {
  background: #182c42ee;
  border-left: 4px solid var(--color-accent); border-radius: 11px;
  padding: 15px 16px; color: #f4f8fa; box-shadow: 0 1px 12px #29ffe62a;
}
body.light-mode .doctor-card { background: #fff8e6; color: #20324e;}
.doctor-title { font-weight: bold; color: var(--color-accent); font-size: 1.09rem;}
.doctor-desc { font-size: .99rem; margin-bottom: 3px;}
.doctor-contact { color: #fff; font-size: 0.96rem; }
body.light-mode .doctor-contact { color: #20324e;}

/* Toast notifications */
.toast {
  position: fixed; bottom: 37px; left: 50%; transform: translateX(-50%);
  background: #113358f5;
  color: #fff; padding: 14px 39px;
  border-radius: 20px;
  box-shadow: 0 2px 16px #29ffe664;
  opacity: 0; transition: opacity .32s, background .24s;
  font-size: 1.12rem; text-align: center; z-index: 300;
}
.toast.show {
  opacity: 1;
  background: linear-gradient(110deg, var(--color-accent2) 62%, var(--color-accent) 100%);
}

.theme-toggle {
  position: fixed;
  top: 26px; right: 40px;
  z-index: 350;
  font-size: 2.1rem;
  padding: 10px 15px;
  background: rgba(37,51,77,0.7);
  color: var(--color-accent);
  cursor: pointer;
  border: none;
  border-radius: 50px;
  box-shadow: 0 2px 10px #29ffe620;
  transition: background .17s, color .17s, opacity .11s;
}
.theme-toggle:hover {
  opacity: 0.81;
  background: rgba(90,230,250,0.32);
  color: #fff;
}
body.light-mode .theme-toggle {
  background: rgba(246,232,208,0.79);
  color: #be8706;
}
body.light-mode .theme-toggle:hover {
  background: rgba(253,249,222,0.92);
  color: #db6f26;
}

/* Responsive tweaks as needed */
@media (max-width: 1000px) {
  .main-container,
  .card,
  .upload-area,
  .image-preview,
  .results-section {
    max-width: 97vw;
    padding-left: 2vw;
    padding-right: 2vw;
  }
  .feature-card {
    max-width: 99vw;
    flex: 1 1 320px;
  }
}

@media (max-width: 600px) {
  .main-container, .card, .upload-area, .image-preview, .results-section, .mascot-card {
    max-width: 100vw;
    width: 99vw;
    padding-left: 2vw; padding-right: 2vw;
  }
  .image-preview img, .heatmap-overlay, .results-section img {
    max-width: 86vw; max-height: 310px;
  }
  .feature-card {
    flex: 1 1 95vw;
    max-width: 98vw;
  }
  .theme-toggle { top: 13px; right: 12px; font-size: 1.7rem;}
}
